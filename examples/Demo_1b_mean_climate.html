
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1B. Mean Climate Driver &#8212; PMP Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=30646c52"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'examples/Demo_1b_mean_climate';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2A. Monsoon (Wang)" href="Demo_2a_monsoon_wang.html" />
    <link rel="prev" title="1A. Compute Climatologies" href="Demo_1a_compute_climatologies.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/PMPLogo_500x421px_72dpi.png" class="logo__image only-light" alt="PMP Documentation - Home"/>
    <img src="../_static/PMPLogo_500x421px_72dpi.png" class="logo__image only-dark pst-js-only" alt="PMP Documentation - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">For users:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../start.html">Getting Started</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../supporting-data.html">Retrieving data for demos and use of the PMP</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../metrics.html">PMP Metrics</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../metrics_mean-clim.html">Mean Climate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_enso.html">ENSO Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_mov.html">Extra-tropical modes of variability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_mjo.html">MJO baseline metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_monsoon.html">Monsoon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_ext.html">Extremes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_precip-variability.html">Precipitation Variability Across Timescales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_precip-distribution.html">Precipitation Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_subdaily-precipitation.html">Sub-daily precipitation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_sea_ice.html">Sea Ice</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/blob/main/pcmdi_metrics/cloud_feedback/README.md">Cloud Feedbacks</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../metrics-demo.html">Demo notebooks</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Demo_0_download_data.html">0. Prepare Demos</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_1a_compute_climatologies.html">1A. Compute Climatologies</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">1B. Mean Climate Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_2a_monsoon_wang.html">2A. Monsoon (Wang)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_2b_monsoon_sperber.html">2B. Monsoon (Sperber)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_3_diurnal_cycle.html">3. Diurnal Cycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_4_modes_of_variability.html">4. Modes of Variability</a></li>



<li class="toctree-l2"><a class="reference internal" href="Demo_5_mjo_metrics.html">5. MJO</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_6_ENSO.html">6. ENSO</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_7_precip_variability.html">7. Precipitation Variability Across Timescales</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_8_extremes.html">8. Extremes Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_9_seaIceExtent_ivanova.html">9A. Sea Ice</a></li>
<li class="toctree-l2"><a class="reference internal" href="Demo_9b_seaIce_data_explore.html">9B. Sea Ice Supplementary</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference external" href="https://pcmdi.llnl.gov/research/metrics/">Results</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">For developers/contributors:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../resources.html">Resources</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api.html">API Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.xcdat_open.html">pcmdi_metrics.io.xcdat_open</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.utils.create_land_sea_mask.html">pcmdi_metrics.utils.create_land_sea_mask</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.utils.apply_landmask.html">pcmdi_metrics.utils.apply_landmask</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.utils.apply_oceanmask.html">pcmdi_metrics.utils.apply_oceanmask</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.utils.create_target_grid.html">pcmdi_metrics.utils.create_target_grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.utils.regrid.html">pcmdi_metrics.utils.regrid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.utils.custom_season_average.html">pcmdi_metrics.utils.custom_season_average</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.utils.custom_season_departure.html">pcmdi_metrics.utils.custom_season_departure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.region_subset.html">pcmdi_metrics.io.region_subset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.region_from_file.html">pcmdi_metrics.io.region_from_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_grid.html">pcmdi_metrics.io.get_grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_axis_list.html">pcmdi_metrics.io.get_axis_list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_data_list.html">pcmdi_metrics.io.get_data_list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_latitude.html">pcmdi_metrics.io.get_latitude</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_latitude_bounds.html">pcmdi_metrics.io.get_latitude_bounds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_latitude_key.html">pcmdi_metrics.io.get_latitude_key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_longitude.html">pcmdi_metrics.io.get_longitude</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_longitude_bounds.html">pcmdi_metrics.io.get_longitude_bounds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_longitude_key.html">pcmdi_metrics.io.get_longitude_key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_time.html">pcmdi_metrics.io.get_time</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_time_bounds.html">pcmdi_metrics.io.get_time_bounds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_time_bounds_key.html">pcmdi_metrics.io.get_time_bounds_key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.get_time_key.html">pcmdi_metrics.io.get_time_key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.io.select_subset.html">pcmdi_metrics.io.select_subset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.utils.check_daily_time_axis.html">pcmdi_metrics.utils.check_daily_time_axis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.utils.check_monthly_time_axis.html">pcmdi_metrics.utils.check_monthly_time_axis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.utils.regenerate_time_axis.html">pcmdi_metrics.utils.regenerate_time_axis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.utils.sort_human.html">pcmdi_metrics.utils.sort_human</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.utils.fill_template.html">pcmdi_metrics.utils.fill_template</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generated/pcmdi_metrics.utils.tree.html">pcmdi_metrics.utils.tree</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../resources_legacy.html">Legacy archive</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../pmp-using-cdp-guide.html">PMP using CDP Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pmpparser.html">PMPParser</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../team.html">Team</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics">GitHub repository</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/discussions">GitHub discussions</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/PCMDI/pcmdi_metrics" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/PCMDI/pcmdi_metrics/edit/main/docs/examples/Demo_1b_mean_climate.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/PCMDI/pcmdi_metrics/issues/new?title=Issue%20on%20page%20%2Fexamples/Demo_1b_mean_climate.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/examples/Demo_1b_mean_climate.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>1B. Mean Climate Driver</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Basic-use">Basic use</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Customizing-parameters-in-the-mean-climate-driver">Customizing parameters in the mean climate driver</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Specifying-the-model">Specifying the model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Specifying-the-observation">Specifying the observation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Using-custom-regions">Using custom regions</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Land/sea-masks">Land/sea masks</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Extract-vertical-level-and-customize-observations">Extract vertical level and customize observations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Adding-notes-and-other-options">Adding notes and other options</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="1B.-Mean-Climate-Driver">
<h1>1B. Mean Climate Driver<a class="headerlink" href="#1B.-Mean-Climate-Driver" title="Link to this heading">#</a></h1>
<p>This notebook introduces new users to the PCDMI mean climate driver.</p>
<p>This notebook should be run in an environment with python, jupyterlab, pcmdi metrics package, and cdat installed. It is expected that you have downloaded the sample data as demonstrated in the <a class="reference internal" href="Demo_0_download_data.html"><span class="doc">0. Prepare Demos</span></a> notebook.</p>
<p>To see which datasets are the default and which are alternates, check out <a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/blob/main/doc/obs_info_dictionary.json">pcmdi_metrics/doc/obs_info_dictionary.json</a>.</p>
<p>The following cell reads in the choices you made during the download data step:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">user_choices</span> <span class="kn">import</span> <span class="n">demo_data_directory</span><span class="p">,</span> <span class="n">demo_output_directory</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># To open and display one of the graphics</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.image</span> <span class="k">as</span> <span class="nn">mpimg</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">rcParams</span>

<span class="kn">import</span> <span class="nn">os</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
<section id="Basic-use">
<h2>Basic use<a class="headerlink" href="#Basic-use" title="Link to this heading">#</a></h2>
<p>The PCMDI Median Driver is driven via parameter files reflecting your study and environment. The parameter file for this demo is shown here:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;basic_param.py&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
import os

#
#  OPTIONS ARE SET BY USER IN THIS FILE AS INDICATED BELOW BY:
#
#

# RUN IDENTIFICATION
# DEFINES A SUBDIRECTORY TO METRICS OUTPUT RESULTS SO MULTIPLE CASES CAN
# BE COMPARED
case_id = &#39;basicTest&#39;

# LIST OF MODEL VERSIONS TO BE TESTED - WHICH ARE EXPECTED TO BE PART OF
# CLIMATOLOGY FILENAME
test_data_set = [&#39;ACCESS1-0&#39;, &#39;CanCM4&#39;]


# VARIABLES TO USE
vars = [&#39;rlut&#39;]


# Observations to use at the moment &#34;default&#34; or &#34;alternate&#34;
reference_data_set = [&#39;all&#39;]
#ext = &#39;.nc&#39;

# INTERPOLATION OPTIONS
target_grid = &#39;2.5x2.5&#39;  # OPTIONS: &#39;2.5x2.5&#39; or an actual cdms2 grid object
regrid_tool = &#39;regrid2&#39;  # &#39;regrid2&#39; # OPTIONS: &#39;regrid2&#39;,&#39;esmf&#39;
# OPTIONS: &#39;linear&#39;,&#39;conservative&#39;, only if tool is esmf
regrid_method = &#39;linear&#39;
regrid_tool_ocn = &#39;esmf&#39;    # OPTIONS: &#34;regrid2&#34;,&#34;esmf&#34;
# OPTIONS: &#39;linear&#39;,&#39;conservative&#39;, only if tool is esmf
regrid_method_ocn = &#39;linear&#39;

# Templates for climatology files
# %(param) will subsitute param with values in this file
filename_template = &#34;cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc&#34;

# filename template for landsea masks (&#39;sftlf&#39;)
sftlf_filename_template = &#34;sftlf_%(model_version).nc&#34;
generate_sftlf = True # if land surface type mask cannot be found, generate one

# Region
regions = {&#34;rlut&#34;: [&#34;Global&#34;]}

# ROOT PATH FOR MODELS CLIMATOLOGIES
test_data_path = &#39;demo_data_tmp/CMIP5_demo_clims/&#39;
# ROOT PATH FOR OBSERVATIONS
# Note that atm/mo/%(variable)/ac will be added to this
reference_data_path = &#39;demo_data_tmp/obs4MIPs_PCMDI_clims&#39;

# DIRECTORY WHERE TO PUT RESULTS
metrics_output_path = os.path.join(
    &#39;demo_output_tmp&#39;,
    &#34;%(case_id)&#34;)

</pre></div></div>
</div>
<p>To run the mean climate driver, use the following command in the terminal. This will generate a metrics file based on the models, observations, and other criteria in <code class="docutils literal notranslate"><span class="pre">basic_param.py</span></code></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mean_climate_driver.py -p basic_param.py
</pre></div>
</div>
<p>In the next cell, bash cell magic is used to run this command as a subprocess:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre><span></span>%%bash
mean_climate_driver.py<span class="w">  </span>-p<span class="w"> </span>basic_param.py
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- prepare mean climate metrics calculation ---
case_id: basicTest
test_data_set: [&#39;ACCESS1-0&#39;, &#39;CanCM4&#39;]
realization:
vars: [&#39;rlut&#39;]
varname_in_test_data: None
reference_data_set: [&#39;all&#39;]
target_grid: 2.5x2.5
regrid_tool: regrid2
regrid_tool_ocn: esmf
save_test_clims: False
test_clims_interpolated_output: None
filename_template: cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc
sftlf_filename_template: sftlf_%(model_version).nc
generate_sftlf: True
regions_specs: {&#39;global&#39;: {}, &#39;NHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;SHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;TROPICS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;90S50S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -50)}}, &#39;50S20S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;20S20N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;20N50N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;50N90N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (50.0, 90)}}, &#39;CONUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;land&#39;: {&#39;value&#39;: 100}, &#39;land_NHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;land_SHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;land_TROPICS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;land_CONUS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;ocean&#39;: {&#39;value&#39;: 0}, &#39;ocean_NHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;ocean_SHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;ocean_TROPICS&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 30)}}, &#39;ocean_50S50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, 50)}}, &#39;ocean_50S20S&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;ocean_20S20N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;ocean_20N50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;NAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 90), &#39;longitude&#39;: (-180, 180)}}, &#39;NAO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA1&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA2&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PNA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;NPO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;PDO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;NPGO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;AMO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 70), &#39;longitude&#39;: (-80, 0)}}, &#39;AllMW&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-40.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;AllM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;NAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (210.0, 310.0)}}, &#39;SAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (240.0, 330.0)}}, &#39;NAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (-50.0, 60.0)}}, &#39;SAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (0.0, 90.0)}}, &#39;ASM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (60.0, 180.0)}}, &#39;AUSM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (90.0, 160.0)}}, &#39;AIR&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (7.0, 25.0), &#39;longitude&#39;: (65.0, 85.0)}}, &#39;AUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -10.0), &#39;longitude&#39;: (120.0, 150.0)}}, &#39;Sahel&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (13.0, 18.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;GoG&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 5.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;NAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 37.0), &#39;longitude&#39;: (-112.0, -103.0)}}, &#39;SAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 2.5), &#39;longitude&#39;: (-65.0, -40.0)}}}
regions: {&#39;rlut&#39;: [&#39;Global&#39;]}
test_data_path: demo_data_tmp/CMIP5_demo_clims/
reference_data_path: demo_data_tmp/obs4MIPs_PCMDI_clims
metrics_output_path: demo_output_tmp/basicTest
diagnostics_output_path: demo_output_tmp/basicTest
debug: False
--- start mean climate metrics calculation ---
varname: rlut
level: None
reference_data_set (all):  [&#39;alternate1&#39;, &#39;default&#39;]
ref: alternate1
ref_data_full_path: demo_data_tmp/obs4MIPs_PCMDI_clims/rlut/CERES-EBAF-4-0/v20210804/rlut_mon_CERES-EBAF-4-0_PCMDI_gn.200301-201812.AC.v20210804.nc
ref_data load_and_regrid failed: int() argument must be a string, a bytes-like object or a real number, not &#39;NoneType&#39;
Re-try with decode_times=False
&#39;DataArray&#39; object has no attribute &#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:33:26,013 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:33:26,013 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 11.443886637144088
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.47036113512534
metrics, std_xyt
metrics, std_xyt: 36.4380172334105
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 1.1384446642039474
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 5.770267763900403
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  8.04383979899538 7.962870239960437
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9693832697582581
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:34::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_basicTest.json
2024-10-23 20:34:07,541 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_basicTest.json
2024-10-23 20:34:07,541 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_basicTest.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=================================
model, runs, find_all_realizations: CanCM4 [&#39;&#39;] False
-----------------------
model, run: CanCM4
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.CanCM4.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:34:07,861 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:34:07,861 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 12.581863266319667
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.47036113512534
metrics, std_xyt
metrics, std_xyt: 35.676970161763705
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -1.1635460184347601
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 6.33676419779921
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  9.611035481689909 9.540344002879925
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9518562007048922
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:34::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_alternate1_basicTest.json
2024-10-23 20:34:47,633 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_alternate1_basicTest.json
2024-10-23 20:34:47,633 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_alternate1_basicTest.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
ref: default
ref_data_full_path: demo_data_tmp/obs4MIPs_PCMDI_clims/rlut/CERES-EBAF-4-1/v20210804/rlut_mon_CERES-EBAF-4-1_PCMDI_gn.200301-201812.AC.v20210804.nc
ref_data load_and_regrid failed: int() argument must be a string, a bytes-like object or a real number, not &#39;NoneType&#39;
Re-try with decode_times=False
&#39;DataArray&#39; object has no attribute &#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:34:49,269 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:34:49,269 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 11.441474434051779
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.42022623440726
metrics, std_xyt
metrics, std_xyt: 36.4380172334105
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 1.1365873707975822
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 5.76358422001215
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  8.032983607315776 7.9521691873316795
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9694779269200444
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:35::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_basicTest.json
2024-10-23 20:35:25,542 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_basicTest.json
2024-10-23 20:35:25,542 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_basicTest.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=================================
model, runs, find_all_realizations: CanCM4 [&#39;&#39;] False
-----------------------
model, run: CanCM4
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.CanCM4.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:35:25,826 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:35:25,826 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 12.592931277171877
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.42022623440726
metrics, std_xyt
metrics, std_xyt: 35.676970161763705
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -1.165403311841126
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 6.339387410014902
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  9.609441449405928 9.538511418995654
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9518750636449926
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:36::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_default_basicTest.json
2024-10-23 20:36:08,977 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_default_basicTest.json
2024-10-23 20:36:08,977 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_default_basicTest.json
INFO::2024-10-23 20:36::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut_2.5x2.5_regrid2_metrics_basicTest.json
2024-10-23 20:36:08,981 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut_2.5x2.5_regrid2_metrics_basicTest.json
2024-10-23 20:36:08,981 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/basicTest/rlut_2.5x2.5_regrid2_metrics_basicTest.json
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pmp mean clim driver completed
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># figure size in inches optional</span>
<span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">10</span>

<span class="c1"># path to images</span>
<span class="n">image_path_djf</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">demo_output_directory</span><span class="p">,</span><span class="s2">&quot;basicTest/rlut/rlut_ACCESS1-0__interpolated_regrid2_Global_DJF_basicTest.png&quot;</span><span class="p">)</span>
<span class="n">image_path_jja</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">demo_output_directory</span><span class="p">,</span><span class="s2">&quot;basicTest/rlut/rlut_ACCESS1-0__interpolated_regrid2_Global_JJA_basicTest.png&quot;</span><span class="p">)</span>

<span class="c1"># display images</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">);</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">image_path_djf</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">image_path_jja</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.image.AxesImage at 0x10d35aec0&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_Demo_1b_mean_climate_8_1.png" src="../_images/examples_Demo_1b_mean_climate_8_1.png" />
</div>
</div>
<p>Running the mean climate driver produces an output json file in the demo output directory. The metrics are stored in the “RESULTS” object of the json, viewed here:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">output_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">demo_output_directory</span><span class="p">,</span><span class="s2">&quot;basicTest/rlut_2.5x2.5_regrid2_metrics_basicTest.json&quot;</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">metric</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)[</span><span class="s2">&quot;RESULTS&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">metric</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{
  &#34;ACCESS1-0&#34;: {
    &#34;alternate1&#34;: {
      &#34;source&#34;: &#34;CERES-EBAF-4-0&#34;,
      &#34;&#34;: {
        &#34;InputClimatologyFileName&#34;: &#34;cmip5.historical.ACCESS1-0.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc&#34;,
        &#34;Global&#34;: {
          &#34;bias_xy&#34;: {
            &#34;ann&#34;: &#34;1.13844e+00&#34;,
            &#34;djf&#34;: &#34;1.67490e+00&#34;,
            &#34;mam&#34;: &#34;1.39179e+00&#34;,
            &#34;jja&#34;: &#34;8.59122e-01&#34;,
            &#34;son&#34;: &#34;6.29436e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.70942e+00&#34;,
              &#34;1.20757e+00&#34;,
              &#34;1.20022e+00&#34;,
              &#34;1.35926e+00&#34;,
              &#34;1.60580e+00&#34;,
              &#34;1.28681e+00&#34;,
              &#34;8.19685e-01&#34;,
              &#34;4.69598e-01&#34;,
              &#34;1.84053e-01&#34;,
              &#34;3.97732e-01&#34;,
              &#34;1.29905e+00&#34;,
              &#34;2.12214e+00&#34;
            ]
          },
          &#34;cor_xy&#34;: {
            &#34;ann&#34;: &#34;9.69383e-01&#34;,
            &#34;djf&#34;: &#34;9.62127e-01&#34;,
            &#34;mam&#34;: &#34;9.50753e-01&#34;,
            &#34;jja&#34;: &#34;9.61062e-01&#34;,
            &#34;son&#34;: &#34;9.62701e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;9.55888e-01&#34;,
              &#34;9.58577e-01&#34;,
              &#34;9.50293e-01&#34;,
              &#34;9.46363e-01&#34;,
              &#34;9.31436e-01&#34;,
              &#34;9.44963e-01&#34;,
              &#34;9.52970e-01&#34;,
              &#34;9.57411e-01&#34;,
              &#34;9.58961e-01&#34;,
              &#34;9.51206e-01&#34;,
              &#34;9.46024e-01&#34;,
              &#34;9.45450e-01&#34;
            ]
          },
          &#34;mae_xy&#34;: {
            &#34;ann&#34;: &#34;5.77027e+00&#34;,
            &#34;djf&#34;: &#34;7.15580e+00&#34;,
            &#34;mam&#34;: &#34;7.24534e+00&#34;,
            &#34;jja&#34;: &#34;7.51518e+00&#34;,
            &#34;son&#34;: &#34;6.44334e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;7.77173e+00&#34;,
              &#34;7.63416e+00&#34;,
              &#34;8.00889e+00&#34;,
              &#34;7.77429e+00&#34;,
              &#34;7.81991e+00&#34;,
              &#34;7.99513e+00&#34;,
              &#34;8.50249e+00&#34;,
              &#34;8.00314e+00&#34;,
              &#34;7.36018e+00&#34;,
              &#34;7.28799e+00&#34;,
              &#34;7.27673e+00&#34;,
              &#34;7.71427e+00&#34;
            ]
          },
          &#34;mean-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.40316e+02&#34;,
            &#34;djf&#34;: &#34;2.37540e+02&#34;,
            &#34;mam&#34;: &#34;2.39327e+02&#34;,
            &#34;jja&#34;: &#34;2.43879e+02&#34;,
            &#34;son&#34;: &#34;2.40536e+02&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.37511e+02&#34;,
              &#34;2.37974e+02&#34;,
              &#34;2.38287e+02&#34;,
              &#34;2.38996e+02&#34;,
              &#34;2.40648e+02&#34;,
              &#34;2.42912e+02&#34;,
              &#34;2.44361e+02&#34;,
              &#34;2.44378e+02&#34;,
              &#34;2.42922e+02&#34;,
              &#34;2.40568e+02&#34;,
              &#34;2.38119e+02&#34;,
              &#34;2.37120e+02&#34;
            ]
          },
          &#34;mean_xy&#34;: {
            &#34;ann&#34;: &#34;2.41455e+02&#34;,
            &#34;djf&#34;: &#34;2.39215e+02&#34;,
            &#34;mam&#34;: &#34;2.40719e+02&#34;,
            &#34;jja&#34;: &#34;2.44738e+02&#34;,
            &#34;son&#34;: &#34;2.41166e+02&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.39221e+02&#34;,
              &#34;2.39182e+02&#34;,
              &#34;2.39487e+02&#34;,
              &#34;2.40356e+02&#34;,
              &#34;2.42254e+02&#34;,
              &#34;2.44199e+02&#34;,
              &#34;2.45181e+02&#34;,
              &#34;2.44848e+02&#34;,
              &#34;2.43106e+02&#34;,
              &#34;2.40966e+02&#34;,
              &#34;2.39418e+02&#34;,
              &#34;2.39242e+02&#34;
            ]
          },
          &#34;rms_devzm&#34;: {
            &#34;ann&#34;: &#34;5.80704e+00&#34;
          },
          &#34;rms_xy&#34;: {
            &#34;ann&#34;: &#34;8.04384e+00&#34;,
            &#34;djf&#34;: &#34;1.02307e+01&#34;,
            &#34;mam&#34;: &#34;1.07753e+01&#34;,
            &#34;jja&#34;: &#34;1.04405e+01&#34;,
            &#34;son&#34;: &#34;9.25669e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.11214e+01&#34;,
              &#34;1.09013e+01&#34;,
              &#34;1.16032e+01&#34;,
              &#34;1.14901e+01&#34;,
              &#34;1.26119e+01&#34;,
              &#34;1.19818e+01&#34;,
              &#34;1.18504e+01&#34;,
              &#34;1.13403e+01&#34;,
              &#34;1.06558e+01&#34;,
              &#34;1.07509e+01&#34;,
              &#34;1.11296e+01&#34;,
              &#34;1.18900e+01&#34;
            ]
          },
          &#34;rms_xyt&#34;: {
            &#34;ann&#34;: &#34;1.14439e+01&#34;
          },
          &#34;rms_y&#34;: {
            &#34;ann&#34;: &#34;5.56611e+00&#34;
          },
          &#34;rmsc_xy&#34;: {
            &#34;ann&#34;: &#34;7.96287e+00&#34;,
            &#34;djf&#34;: &#34;1.00927e+01&#34;,
            &#34;mam&#34;: &#34;1.06851e+01&#34;,
            &#34;jja&#34;: &#34;1.04051e+01&#34;,
            &#34;son&#34;: &#34;9.23527e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.09892e+01&#34;,
              &#34;1.08343e+01&#34;,
              &#34;1.15410e+01&#34;,
              &#34;1.14094e+01&#34;,
              &#34;1.25092e+01&#34;,
              &#34;1.19125e+01&#34;,
              &#34;1.18220e+01&#34;,
              &#34;1.13306e+01&#34;,
              &#34;1.06542e+01&#34;,
              &#34;1.07435e+01&#34;,
              &#34;1.10535e+01&#34;,
              &#34;1.16991e+01&#34;
            ]
          },
          &#34;std-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.96486e+01&#34;,
            &#34;djf&#34;: &#34;3.26880e+01&#34;,
            &#34;mam&#34;: &#34;3.08198e+01&#34;,
            &#34;jja&#34;: &#34;3.53765e+01&#34;,
            &#34;son&#34;: &#34;3.12911e+01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;3.31369e+01&#34;,
              &#34;3.37361e+01&#34;,
              &#34;3.30750e+01&#34;,
              &#34;3.12636e+01&#34;,
              &#34;3.17227e+01&#34;,
              &#34;3.44527e+01&#34;,
              &#34;3.63657e+01&#34;,
              &#34;3.62723e+01&#34;,
              &#34;3.48216e+01&#34;,
              &#34;3.20553e+01&#34;,
              &#34;3.09854e+01&#34;,
              &#34;3.19869e+01&#34;
            ]
          },
          &#34;std-obs_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.29866e+01&#34;
          },
          &#34;std-obs_xyt&#34;: {
            &#34;ann&#34;: &#34;3.34704e+01&#34;
          },
          &#34;std_xy&#34;: {
            &#34;ann&#34;: &#34;3.19665e+01&#34;,
            &#34;djf&#34;: &#34;3.61892e+01&#34;,
            &#34;mam&#34;: &#34;3.40894e+01&#34;,
            &#34;jja&#34;: &#34;3.75629e+01&#34;,
            &#34;son&#34;: &#34;3.38134e+01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;3.67766e+01&#34;,
              &#34;3.73430e+01&#34;,
              &#34;3.66409e+01&#34;,
              &#34;3.48911e+01&#34;,
              &#34;3.43658e+01&#34;,
              &#34;3.64095e+01&#34;,
              &#34;3.89324e+01&#34;,
              &#34;3.90522e+01&#34;,
              &#34;3.73965e+01&#34;,
              &#34;3.46856e+01&#34;,
              &#34;3.39317e+01&#34;,
              &#34;3.55606e+01&#34;
            ]
          },
          &#34;std_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.24754e+01&#34;
          },
          &#34;std_xyt&#34;: {
            &#34;ann&#34;: &#34;3.64380e+01&#34;
          }
        }
      }
    },
    &#34;units&#34;: &#34;W m-2&#34;,
    &#34;default&#34;: {
      &#34;source&#34;: &#34;CERES-EBAF-4-1&#34;,
      &#34;&#34;: {
        &#34;InputClimatologyFileName&#34;: &#34;cmip5.historical.ACCESS1-0.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc&#34;,
        &#34;Global&#34;: {
          &#34;bias_xy&#34;: {
            &#34;ann&#34;: &#34;1.13659e+00&#34;,
            &#34;djf&#34;: &#34;1.64434e+00&#34;,
            &#34;mam&#34;: &#34;1.32498e+00&#34;,
            &#34;jja&#34;: &#34;8.66320e-01&#34;,
            &#34;son&#34;: &#34;7.11797e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.68703e+00&#34;,
              &#34;1.20714e+00&#34;,
              &#34;1.16589e+00&#34;,
              &#34;1.30420e+00&#34;,
              &#34;1.49625e+00&#34;,
              &#34;1.23850e+00&#34;,
              &#34;8.18860e-01&#34;,
              &#34;5.40068e-01&#34;,
              &#34;2.62505e-01&#34;,
              &#34;5.17182e-01&#34;,
              &#34;1.34943e+00&#34;,
              &#34;2.05199e+00&#34;
            ]
          },
          &#34;cor_xy&#34;: {
            &#34;ann&#34;: &#34;9.69478e-01&#34;,
            &#34;djf&#34;: &#34;9.61925e-01&#34;,
            &#34;mam&#34;: &#34;9.49733e-01&#34;,
            &#34;jja&#34;: &#34;9.60719e-01&#34;,
            &#34;son&#34;: &#34;9.63372e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;9.55683e-01&#34;,
              &#34;9.58517e-01&#34;,
              &#34;9.49858e-01&#34;,
              &#34;9.45433e-01&#34;,
              &#34;9.30041e-01&#34;,
              &#34;9.44146e-01&#34;,
              &#34;9.52465e-01&#34;,
              &#34;9.57461e-01&#34;,
              &#34;9.59859e-01&#34;,
              &#34;9.52299e-01&#34;,
              &#34;9.47362e-01&#34;,
              &#34;9.46986e-01&#34;
            ]
          },
          &#34;mae_xy&#34;: {
            &#34;ann&#34;: &#34;5.76358e+00&#34;,
            &#34;djf&#34;: &#34;7.16238e+00&#34;,
            &#34;mam&#34;: &#34;7.30664e+00&#34;,
            &#34;jja&#34;: &#34;7.55801e+00&#34;,
            &#34;son&#34;: &#34;6.37463e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;7.81074e+00&#34;,
              &#34;7.64212e+00&#34;,
              &#34;8.07894e+00&#34;,
              &#34;7.82694e+00&#34;,
              &#34;7.84411e+00&#34;,
              &#34;8.03403e+00&#34;,
              &#34;8.54639e+00&#34;,
              &#34;8.05634e+00&#34;,
              &#34;7.31938e+00&#34;,
              &#34;7.20559e+00&#34;,
              &#34;7.15712e+00&#34;,
              &#34;7.54897e+00&#34;
            ]
          },
          &#34;mean-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.40318e+02&#34;,
            &#34;djf&#34;: &#34;2.37570e+02&#34;,
            &#34;mam&#34;: &#34;2.39394e+02&#34;,
            &#34;jja&#34;: &#34;2.43872e+02&#34;,
            &#34;son&#34;: &#34;2.40454e+02&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.37534e+02&#34;,
              &#34;2.37974e+02&#34;,
              &#34;2.38321e+02&#34;,
              &#34;2.39051e+02&#34;,
              &#34;2.40758e+02&#34;,
              &#34;2.42960e+02&#34;,
              &#34;2.44362e+02&#34;,
              &#34;2.44308e+02&#34;,
              &#34;2.42844e+02&#34;,
              &#34;2.40449e+02&#34;,
              &#34;2.38069e+02&#34;,
              &#34;2.37190e+02&#34;
            ]
          },
          &#34;mean_xy&#34;: {
            &#34;ann&#34;: &#34;2.41455e+02&#34;,
            &#34;djf&#34;: &#34;2.39215e+02&#34;,
            &#34;mam&#34;: &#34;2.40719e+02&#34;,
            &#34;jja&#34;: &#34;2.44738e+02&#34;,
            &#34;son&#34;: &#34;2.41166e+02&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.39221e+02&#34;,
              &#34;2.39182e+02&#34;,
              &#34;2.39487e+02&#34;,
              &#34;2.40356e+02&#34;,
              &#34;2.42254e+02&#34;,
              &#34;2.44199e+02&#34;,
              &#34;2.45181e+02&#34;,
              &#34;2.44848e+02&#34;,
              &#34;2.43106e+02&#34;,
              &#34;2.40966e+02&#34;,
              &#34;2.39418e+02&#34;,
              &#34;2.39242e+02&#34;
            ]
          },
          &#34;rms_devzm&#34;: {
            &#34;ann&#34;: &#34;5.80681e+00&#34;
          },
          &#34;rms_xy&#34;: {
            &#34;ann&#34;: &#34;8.03298e+00&#34;,
            &#34;djf&#34;: &#34;1.02388e+01&#34;,
            &#34;mam&#34;: &#34;1.08723e+01&#34;,
            &#34;jja&#34;: &#34;1.04856e+01&#34;,
            &#34;son&#34;: &#34;9.19958e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.11389e+01&#34;,
              &#34;1.09095e+01&#34;,
              &#34;1.16701e+01&#34;,
              &#34;1.15807e+01&#34;,
              &#34;1.27177e+01&#34;,
              &#34;1.20622e+01&#34;,
              &#34;1.19118e+01&#34;,
              &#34;1.13491e+01&#34;,
              &#34;1.05640e+01&#34;,
              &#34;1.06576e+01&#34;,
              &#34;1.10105e+01&#34;,
              &#34;1.17255e+01&#34;
            ]
          },
          &#34;rms_xyt&#34;: {
            &#34;ann&#34;: &#34;1.14415e+01&#34;
          },
          &#34;rms_y&#34;: {
            &#34;ann&#34;: &#34;5.55066e+00&#34;
          },
          &#34;rmsc_xy&#34;: {
            &#34;ann&#34;: &#34;7.95217e+00&#34;,
            &#34;djf&#34;: &#34;1.01059e+01&#34;,
            &#34;mam&#34;: &#34;1.07912e+01&#34;,
            &#34;jja&#34;: &#34;1.04498e+01&#34;,
            &#34;son&#34;: &#34;9.17200e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.10104e+01&#34;,
              &#34;1.08425e+01&#34;,
              &#34;1.16117e+01&#34;,
              &#34;1.15070e+01&#34;,
              &#34;1.26294e+01&#34;,
              &#34;1.19985e+01&#34;,
              &#34;1.18836e+01&#34;,
              &#34;1.13362e+01&#34;,
              &#34;1.05608e+01&#34;,
              &#34;1.06450e+01&#34;,
              &#34;1.09275e+01&#34;,
              &#34;1.15445e+01&#34;
            ]
          },
          &#34;std-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.96452e+01&#34;,
            &#34;djf&#34;: &#34;3.27384e+01&#34;,
            &#34;mam&#34;: &#34;3.07768e+01&#34;,
            &#34;jja&#34;: &#34;3.53625e+01&#34;,
            &#34;son&#34;: &#34;3.11959e+01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;3.31447e+01&#34;,
              &#34;3.37292e+01&#34;,
              &#34;3.29140e+01&#34;,
              &#34;3.12046e+01&#34;,
              &#34;3.17683e+01&#34;,
              &#34;3.44844e+01&#34;,
              &#34;3.63436e+01&#34;,
              &#34;3.61585e+01&#34;,
              &#34;3.46663e+01&#34;,
              &#34;3.19011e+01&#34;,
              &#34;3.09668e+01&#34;,
              &#34;3.20165e+01&#34;
            ]
          },
          &#34;std-obs_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.29797e+01&#34;
          },
          &#34;std-obs_xyt&#34;: {
            &#34;ann&#34;: &#34;3.34202e+01&#34;
          },
          &#34;std_xy&#34;: {
            &#34;ann&#34;: &#34;3.19665e+01&#34;,
            &#34;djf&#34;: &#34;3.61892e+01&#34;,
            &#34;mam&#34;: &#34;3.40894e+01&#34;,
            &#34;jja&#34;: &#34;3.75629e+01&#34;,
            &#34;son&#34;: &#34;3.38134e+01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;3.67766e+01&#34;,
              &#34;3.73430e+01&#34;,
              &#34;3.66409e+01&#34;,
              &#34;3.48911e+01&#34;,
              &#34;3.43658e+01&#34;,
              &#34;3.64095e+01&#34;,
              &#34;3.89324e+01&#34;,
              &#34;3.90522e+01&#34;,
              &#34;3.73965e+01&#34;,
              &#34;3.46856e+01&#34;,
              &#34;3.39317e+01&#34;,
              &#34;3.55606e+01&#34;
            ]
          },
          &#34;std_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.24754e+01&#34;
          },
          &#34;std_xyt&#34;: {
            &#34;ann&#34;: &#34;3.64380e+01&#34;
          }
        }
      }
    }
  },
  &#34;CanCM4&#34;: {
    &#34;alternate1&#34;: {
      &#34;source&#34;: &#34;CERES-EBAF-4-0&#34;,
      &#34;&#34;: {
        &#34;InputClimatologyFileName&#34;: &#34;cmip5.historical.CanCM4.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc&#34;,
        &#34;Global&#34;: {
          &#34;bias_xy&#34;: {
            &#34;ann&#34;: &#34;-1.16355e+00&#34;,
            &#34;djf&#34;: &#34;-9.04990e-01&#34;,
            &#34;mam&#34;: &#34;-9.58837e-01&#34;,
            &#34;jja&#34;: &#34;-1.40268e+00&#34;,
            &#34;son&#34;: &#34;-1.39257e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;-1.05748e+00&#34;,
              &#34;-7.31294e-01&#34;,
              &#34;-5.93616e-01&#34;,
              &#34;-9.59159e-01&#34;,
              &#34;-1.30242e+00&#34;,
              &#34;-1.32148e+00&#34;,
              &#34;-1.51639e+00&#34;,
              &#34;-1.37384e+00&#34;,
              &#34;-1.57919e+00&#34;,
              &#34;-1.46260e+00&#34;,
              &#34;-1.13818e+00&#34;,
              &#34;-9.26899e-01&#34;
            ]
          },
          &#34;cor_xy&#34;: {
            &#34;ann&#34;: &#34;9.51856e-01&#34;,
            &#34;djf&#34;: &#34;9.48245e-01&#34;,
            &#34;mam&#34;: &#34;9.34856e-01&#34;,
            &#34;jja&#34;: &#34;9.54501e-01&#34;,
            &#34;son&#34;: &#34;9.29621e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;9.46420e-01&#34;,
              &#34;9.38033e-01&#34;,
              &#34;9.38497e-01&#34;,
              &#34;9.21741e-01&#34;,
              &#34;9.24654e-01&#34;,
              &#34;9.43999e-01&#34;,
              &#34;9.48858e-01&#34;,
              &#34;9.49445e-01&#34;,
              &#34;9.39042e-01&#34;,
              &#34;9.16147e-01&#34;,
              &#34;9.17268e-01&#34;,
              &#34;9.35667e-01&#34;
            ]
          },
          &#34;mae_xy&#34;: {
            &#34;ann&#34;: &#34;6.33676e+00&#34;,
            &#34;djf&#34;: &#34;7.48836e+00&#34;,
            &#34;mam&#34;: &#34;8.02340e+00&#34;,
            &#34;jja&#34;: &#34;7.63345e+00&#34;,
            &#34;son&#34;: &#34;7.94685e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;8.01647e+00&#34;,
              &#34;8.68272e+00&#34;,
              &#34;8.51797e+00&#34;,
              &#34;8.89059e+00&#34;,
              &#34;8.66123e+00&#34;,
              &#34;7.96412e+00&#34;,
              &#34;8.22251e+00&#34;,
              &#34;8.24705e+00&#34;,
              &#34;8.66632e+00&#34;,
              &#34;8.89274e+00&#34;,
              &#34;8.30664e+00&#34;,
              &#34;7.98235e+00&#34;
            ]
          },
          &#34;mean-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.40316e+02&#34;,
            &#34;djf&#34;: &#34;2.37540e+02&#34;,
            &#34;mam&#34;: &#34;2.39327e+02&#34;,
            &#34;jja&#34;: &#34;2.43879e+02&#34;,
            &#34;son&#34;: &#34;2.40536e+02&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.37511e+02&#34;,
              &#34;2.37974e+02&#34;,
              &#34;2.38287e+02&#34;,
              &#34;2.38996e+02&#34;,
              &#34;2.40648e+02&#34;,
              &#34;2.42912e+02&#34;,
              &#34;2.44361e+02&#34;,
              &#34;2.44378e+02&#34;,
              &#34;2.42922e+02&#34;,
              &#34;2.40568e+02&#34;,
              &#34;2.38119e+02&#34;,
              &#34;2.37120e+02&#34;
            ]
          },
          &#34;mean_xy&#34;: {
            &#34;ann&#34;: &#34;2.39153e+02&#34;,
            &#34;djf&#34;: &#34;2.36635e+02&#34;,
            &#34;mam&#34;: &#34;2.38368e+02&#34;,
            &#34;jja&#34;: &#34;2.42476e+02&#34;,
            &#34;son&#34;: &#34;2.39144e+02&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.36454e+02&#34;,
              &#34;2.37243e+02&#34;,
              &#34;2.37693e+02&#34;,
              &#34;2.38037e+02&#34;,
              &#34;2.39346e+02&#34;,
              &#34;2.41591e+02&#34;,
              &#34;2.42845e+02&#34;,
              &#34;2.43005e+02&#34;,
              &#34;2.41343e+02&#34;,
              &#34;2.39106e+02&#34;,
              &#34;2.36981e+02&#34;,
              &#34;2.36193e+02&#34;
            ]
          },
          &#34;rms_devzm&#34;: {
            &#34;ann&#34;: &#34;9.36331e+00&#34;
          },
          &#34;rms_xy&#34;: {
            &#34;ann&#34;: &#34;9.61104e+00&#34;,
            &#34;djf&#34;: &#34;1.09458e+01&#34;,
            &#34;mam&#34;: &#34;1.17843e+01&#34;,
            &#34;jja&#34;: &#34;1.12319e+01&#34;,
            &#34;son&#34;: &#34;1.25187e+01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.13787e+01&#34;,
              &#34;1.26111e+01&#34;,
              &#34;1.24099e+01&#34;,
              &#34;1.31716e+01&#34;,
              &#34;1.30673e+01&#34;,
              &#34;1.20804e+01&#34;,
              &#34;1.21674e+01&#34;,
              &#34;1.22346e+01&#34;,
              &#34;1.29916e+01&#34;,
              &#34;1.40583e+01&#34;,
              &#34;1.30624e+01&#34;,
              &#34;1.17488e+01&#34;
            ]
          },
          &#34;rms_xyt&#34;: {
            &#34;ann&#34;: &#34;1.25819e+01&#34;
          },
          &#34;rms_y&#34;: {
            &#34;ann&#34;: &#34;2.16805e+00&#34;
          },
          &#34;rmsc_xy&#34;: {
            &#34;ann&#34;: &#34;9.54034e+00&#34;,
            &#34;djf&#34;: &#34;1.09083e+01&#34;,
            &#34;mam&#34;: &#34;1.17452e+01&#34;,
            &#34;jja&#34;: &#34;1.11440e+01&#34;,
            &#34;son&#34;: &#34;1.24410e+01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.13295e+01&#34;,
              &#34;1.25899e+01&#34;,
              &#34;1.23957e+01&#34;,
              &#34;1.31367e+01&#34;,
              &#34;1.30022e+01&#34;,
              &#34;1.20079e+01&#34;,
              &#34;1.20725e+01&#34;,
              &#34;1.21572e+01&#34;,
              &#34;1.28953e+01&#34;,
              &#34;1.39820e+01&#34;,
              &#34;1.30127e+01&#34;,
              &#34;1.17122e+01&#34;
            ]
          },
          &#34;std-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.96486e+01&#34;,
            &#34;djf&#34;: &#34;3.26880e+01&#34;,
            &#34;mam&#34;: &#34;3.08198e+01&#34;,
            &#34;jja&#34;: &#34;3.53765e+01&#34;,
            &#34;son&#34;: &#34;3.12911e+01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;3.31369e+01&#34;,
              &#34;3.37361e+01&#34;,
              &#34;3.30750e+01&#34;,
              &#34;3.12636e+01&#34;,
              &#34;3.17227e+01&#34;,
              &#34;3.44527e+01&#34;,
              &#34;3.63657e+01&#34;,
              &#34;3.62723e+01&#34;,
              &#34;3.48216e+01&#34;,
              &#34;3.20553e+01&#34;,
              &#34;3.09854e+01&#34;,
              &#34;3.19869e+01&#34;
            ]
          },
          &#34;std-obs_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.29866e+01&#34;
          },
          &#34;std-obs_xyt&#34;: {
            &#34;ann&#34;: &#34;3.34704e+01&#34;
          },
          &#34;std_xy&#34;: {
            &#34;ann&#34;: &#34;3.11221e+01&#34;,
            &#34;djf&#34;: &#34;3.43504e+01&#34;,
            &#34;mam&#34;: &#34;3.30813e+01&#34;,
            &#34;jja&#34;: &#34;3.73580e+01&#34;,
            &#34;son&#34;: &#34;3.37589e+01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;3.50821e+01&#34;,
              &#34;3.63170e+01&#34;,
              &#34;3.58606e+01&#34;,
              &#34;3.38742e+01&#34;,
              &#34;3.41414e+01&#34;,
              &#34;3.63919e+01&#34;,
              &#34;3.82394e+01&#34;,
              &#34;3.86968e+01&#34;,
              &#34;3.74911e+01&#34;,
              &#34;3.48807e+01&#34;,
              &#34;3.25499e+01&#34;,
              &#34;3.30539e+01&#34;
            ]
          },
          &#34;std_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.42444e+01&#34;
          },
          &#34;std_xyt&#34;: {
            &#34;ann&#34;: &#34;3.56770e+01&#34;
          }
        }
      }
    },
    &#34;units&#34;: &#34;W m-2&#34;,
    &#34;default&#34;: {
      &#34;source&#34;: &#34;CERES-EBAF-4-1&#34;,
      &#34;&#34;: {
        &#34;InputClimatologyFileName&#34;: &#34;cmip5.historical.CanCM4.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc&#34;,
        &#34;Global&#34;: {
          &#34;bias_xy&#34;: {
            &#34;ann&#34;: &#34;-1.16540e+00&#34;,
            &#34;djf&#34;: &#34;-9.35553e-01&#34;,
            &#34;mam&#34;: &#34;-1.02565e+00&#34;,
            &#34;jja&#34;: &#34;-1.39548e+00&#34;,
            &#34;son&#34;: &#34;-1.31021e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;-1.07987e+00&#34;,
              &#34;-7.31719e-01&#34;,
              &#34;-6.27945e-01&#34;,
              &#34;-1.01422e+00&#34;,
              &#34;-1.41197e+00&#34;,
              &#34;-1.36979e+00&#34;,
              &#34;-1.51722e+00&#34;,
              &#34;-1.30337e+00&#34;,
              &#34;-1.50074e+00&#34;,
              &#34;-1.34315e+00&#34;,
              &#34;-1.08780e+00&#34;,
              &#34;-9.97052e-01&#34;
            ]
          },
          &#34;cor_xy&#34;: {
            &#34;ann&#34;: &#34;9.51875e-01&#34;,
            &#34;djf&#34;: &#34;9.48587e-01&#34;,
            &#34;mam&#34;: &#34;9.34740e-01&#34;,
            &#34;jja&#34;: &#34;9.54255e-01&#34;,
            &#34;son&#34;: &#34;9.28615e-01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;9.46156e-01&#34;,
              &#34;9.37988e-01&#34;,
              &#34;9.37973e-01&#34;,
              &#34;9.21764e-01&#34;,
              &#34;9.24832e-01&#34;,
              &#34;9.43936e-01&#34;,
              &#34;9.48855e-01&#34;,
              &#34;9.49034e-01&#34;,
              &#34;9.38775e-01&#34;,
              &#34;9.15521e-01&#34;,
              &#34;9.16033e-01&#34;,
              &#34;9.37591e-01&#34;
            ]
          },
          &#34;mae_xy&#34;: {
            &#34;ann&#34;: &#34;6.33939e+00&#34;,
            &#34;djf&#34;: &#34;7.47978e+00&#34;,
            &#34;mam&#34;: &#34;8.03385e+00&#34;,
            &#34;jja&#34;: &#34;7.65156e+00&#34;,
            &#34;son&#34;: &#34;8.00703e+00&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;8.02835e+00&#34;,
              &#34;8.68609e+00&#34;,
              &#34;8.55419e+00&#34;,
              &#34;8.89900e+00&#34;,
              &#34;8.66455e+00&#34;,
              &#34;7.95591e+00&#34;,
              &#34;8.22483e+00&#34;,
              &#34;8.27593e+00&#34;,
              &#34;8.66688e+00&#34;,
              &#34;8.93361e+00&#34;,
              &#34;8.36212e+00&#34;,
              &#34;7.87974e+00&#34;
            ]
          },
          &#34;mean-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.40318e+02&#34;,
            &#34;djf&#34;: &#34;2.37570e+02&#34;,
            &#34;mam&#34;: &#34;2.39394e+02&#34;,
            &#34;jja&#34;: &#34;2.43872e+02&#34;,
            &#34;son&#34;: &#34;2.40454e+02&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.37534e+02&#34;,
              &#34;2.37974e+02&#34;,
              &#34;2.38321e+02&#34;,
              &#34;2.39051e+02&#34;,
              &#34;2.40758e+02&#34;,
              &#34;2.42960e+02&#34;,
              &#34;2.44362e+02&#34;,
              &#34;2.44308e+02&#34;,
              &#34;2.42844e+02&#34;,
              &#34;2.40449e+02&#34;,
              &#34;2.38069e+02&#34;,
              &#34;2.37190e+02&#34;
            ]
          },
          &#34;mean_xy&#34;: {
            &#34;ann&#34;: &#34;2.39153e+02&#34;,
            &#34;djf&#34;: &#34;2.36635e+02&#34;,
            &#34;mam&#34;: &#34;2.38368e+02&#34;,
            &#34;jja&#34;: &#34;2.42476e+02&#34;,
            &#34;son&#34;: &#34;2.39144e+02&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;2.36454e+02&#34;,
              &#34;2.37243e+02&#34;,
              &#34;2.37693e+02&#34;,
              &#34;2.38037e+02&#34;,
              &#34;2.39346e+02&#34;,
              &#34;2.41591e+02&#34;,
              &#34;2.42845e+02&#34;,
              &#34;2.43005e+02&#34;,
              &#34;2.41343e+02&#34;,
              &#34;2.39106e+02&#34;,
              &#34;2.36981e+02&#34;,
              &#34;2.36193e+02&#34;
            ]
          },
          &#34;rms_devzm&#34;: {
            &#34;ann&#34;: &#34;9.36380e+00&#34;
          },
          &#34;rms_xy&#34;: {
            &#34;ann&#34;: &#34;9.60944e+00&#34;,
            &#34;djf&#34;: &#34;1.09137e+01&#34;,
            &#34;mam&#34;: &#34;1.18004e+01&#34;,
            &#34;jja&#34;: &#34;1.12603e+01&#34;,
            &#34;son&#34;: &#34;1.25953e+01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.14078e+01&#34;,
              &#34;1.26156e+01&#34;,
              &#34;1.24700e+01&#34;,
              &#34;1.31739e+01&#34;,
              &#34;1.30645e+01&#34;,
              &#34;1.20926e+01&#34;,
              &#34;1.21677e+01&#34;,
              &#34;1.22787e+01&#34;,
              &#34;1.30145e+01&#34;,
              &#34;1.40956e+01&#34;,
              &#34;1.31515e+01&#34;,
              &#34;1.15828e+01&#34;
            ]
          },
          &#34;rms_xyt&#34;: {
            &#34;ann&#34;: &#34;1.25929e+01&#34;
          },
          &#34;rms_y&#34;: {
            &#34;ann&#34;: &#34;2.15886e+00&#34;
          },
          &#34;rmsc_xy&#34;: {
            &#34;ann&#34;: &#34;9.53851e+00&#34;,
            &#34;djf&#34;: &#34;1.08735e+01&#34;,
            &#34;mam&#34;: &#34;1.17557e+01&#34;,
            &#34;jja&#34;: &#34;1.11735e+01&#34;,
            &#34;son&#34;: &#34;1.25270e+01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;1.13566e+01&#34;,
              &#34;1.25944e+01&#34;,
              &#34;1.24542e+01&#34;,
              &#34;1.31348e+01&#34;,
              &#34;1.29880e+01&#34;,
              &#34;1.20147e+01&#34;,
              &#34;1.20727e+01&#34;,
              &#34;1.22093e+01&#34;,
              &#34;1.29277e+01&#34;,
              &#34;1.40315e+01&#34;,
              &#34;1.31064e+01&#34;,
              &#34;1.15398e+01&#34;
            ]
          },
          &#34;std-obs_xy&#34;: {
            &#34;ann&#34;: &#34;2.96452e+01&#34;,
            &#34;djf&#34;: &#34;3.27384e+01&#34;,
            &#34;mam&#34;: &#34;3.07768e+01&#34;,
            &#34;jja&#34;: &#34;3.53625e+01&#34;,
            &#34;son&#34;: &#34;3.11959e+01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;3.31447e+01&#34;,
              &#34;3.37292e+01&#34;,
              &#34;3.29140e+01&#34;,
              &#34;3.12046e+01&#34;,
              &#34;3.17683e+01&#34;,
              &#34;3.44844e+01&#34;,
              &#34;3.63436e+01&#34;,
              &#34;3.61585e+01&#34;,
              &#34;3.46663e+01&#34;,
              &#34;3.19011e+01&#34;,
              &#34;3.09668e+01&#34;,
              &#34;3.20165e+01&#34;
            ]
          },
          &#34;std-obs_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.29797e+01&#34;
          },
          &#34;std-obs_xyt&#34;: {
            &#34;ann&#34;: &#34;3.34202e+01&#34;
          },
          &#34;std_xy&#34;: {
            &#34;ann&#34;: &#34;3.11221e+01&#34;,
            &#34;djf&#34;: &#34;3.43504e+01&#34;,
            &#34;mam&#34;: &#34;3.30813e+01&#34;,
            &#34;jja&#34;: &#34;3.73580e+01&#34;,
            &#34;son&#34;: &#34;3.37589e+01&#34;,
            &#34;CalendarMonths&#34;: [
              &#34;3.50821e+01&#34;,
              &#34;3.63170e+01&#34;,
              &#34;3.58606e+01&#34;,
              &#34;3.38742e+01&#34;,
              &#34;3.41414e+01&#34;,
              &#34;3.63919e+01&#34;,
              &#34;3.82394e+01&#34;,
              &#34;3.86968e+01&#34;,
              &#34;3.74911e+01&#34;,
              &#34;3.48807e+01&#34;,
              &#34;3.25499e+01&#34;,
              &#34;3.30539e+01&#34;
            ]
          },
          &#34;std_xy_devzm&#34;: {
            &#34;ann&#34;: &#34;1.42444e+01&#34;
          },
          &#34;std_xyt&#34;: {
            &#34;ann&#34;: &#34;3.56770e+01&#34;
          }
        }
      }
    }
  }
}
</pre></div></div>
</div>
</section>
<section id="Customizing-parameters-in-the-mean-climate-driver">
<h2>Customizing parameters in the mean climate driver<a class="headerlink" href="#Customizing-parameters-in-the-mean-climate-driver" title="Link to this heading">#</a></h2>
<p>It is possible to override the parameter file from the command line. Use <code class="docutils literal notranslate"><span class="pre">mean_climate_driver.py</span> <span class="pre">--help</span></code> to see all the flag options.</p>
<p>This next cell demonstrates how to change ‘case_id’ and ‘regrid_tool’ on the command line. Changing the ‘case_id’ is helpful because these results will be stored in a folder with that name, separate from other runs.</p>
<p>Both the model data sets and observations are regridded to a 2.5 by 2.5 degree grid before producing statistics. Interpolation of the different grid is conducted by <a class="reference external" href="http://pcmdi.github.io/pcmdi_metrics/generated/pcmdi_metrics.utils.create_target_grid.html#pcmdi_metrics.utils.create_target_grid">creating a target grid</a> and <a class="reference external" href="http://pcmdi.github.io/pcmdi_metrics/generated/pcmdi_metrics.utils.regrid.html#pcmdi_metrics.utils.regrid">regridding</a> it.</p>
<p>The two regrid tools available are ‘regrid2’ and <a class="reference external" href="https://xesmf.readthedocs.io/en/latest/">‘xesmf’</a>. ‘regrid2’ is recommended, but ‘xesmf’ must be used with non-rectangular grids. See <a class="reference external" href="http://pcmdi.github.io/pcmdi_metrics/generated/pcmdi_metrics.utils.regrid.html#pcmdi_metrics.utils.regrid">regrid</a> function for more details.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># for conda</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">import sys</span>
<span class="sd">!conda install --yes --prefix {sys.prefix} -c conda-forge xesmf</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;\nimport sys\n!conda install --yes --prefix {sys.prefix} -c conda-forge xesmf\n&#39;
</pre></div></div>
</div>
<p>OR delete the triple quotations on lines 2&amp;5 from this cell to install with pip:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># for pip</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">import sys</span>
<span class="sd">!{sys.executable} -m pip install git+https://github.com/pangeo-data/xesmf.git</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;\nimport sys\n!{sys.executable} -m pip install git+https://github.com/pangeo-data/xesmf.git\n&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre><span></span>%%bash
mean_climate_driver.py<span class="w">  </span>-p<span class="w"> </span>basic_param.py<span class="w"> </span>--case_id<span class="w"> </span><span class="s1">&#39;Ex2&#39;</span><span class="w"> </span>--regrid_tool<span class="w"> </span><span class="s1">&#39;xesmf&#39;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- prepare mean climate metrics calculation ---
case_id: Ex2
test_data_set: [&#39;ACCESS1-0&#39;, &#39;CanCM4&#39;]
realization:
vars: [&#39;rlut&#39;]
varname_in_test_data: None
reference_data_set: [&#39;all&#39;]
target_grid: 2.5x2.5
regrid_tool: xesmf
regrid_tool_ocn: esmf
save_test_clims: False
test_clims_interpolated_output: None
filename_template: cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc
sftlf_filename_template: sftlf_%(model_version).nc
generate_sftlf: True
regions_specs: {&#39;global&#39;: {}, &#39;NHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;SHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;TROPICS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;90S50S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -50)}}, &#39;50S20S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;20S20N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;20N50N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;50N90N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (50.0, 90)}}, &#39;CONUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;land&#39;: {&#39;value&#39;: 100}, &#39;land_NHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;land_SHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;land_TROPICS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;land_CONUS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;ocean&#39;: {&#39;value&#39;: 0}, &#39;ocean_NHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;ocean_SHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;ocean_TROPICS&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 30)}}, &#39;ocean_50S50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, 50)}}, &#39;ocean_50S20S&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;ocean_20S20N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;ocean_20N50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;NAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 90), &#39;longitude&#39;: (-180, 180)}}, &#39;NAO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA1&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA2&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PNA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;NPO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;PDO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;NPGO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;AMO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 70), &#39;longitude&#39;: (-80, 0)}}, &#39;AllMW&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-40.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;AllM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;NAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (210.0, 310.0)}}, &#39;SAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (240.0, 330.0)}}, &#39;NAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (-50.0, 60.0)}}, &#39;SAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (0.0, 90.0)}}, &#39;ASM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (60.0, 180.0)}}, &#39;AUSM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (90.0, 160.0)}}, &#39;AIR&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (7.0, 25.0), &#39;longitude&#39;: (65.0, 85.0)}}, &#39;AUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -10.0), &#39;longitude&#39;: (120.0, 150.0)}}, &#39;Sahel&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (13.0, 18.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;GoG&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 5.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;NAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 37.0), &#39;longitude&#39;: (-112.0, -103.0)}}, &#39;SAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 2.5), &#39;longitude&#39;: (-65.0, -40.0)}}}
regions: {&#39;rlut&#39;: [&#39;Global&#39;]}
test_data_path: demo_data_tmp/CMIP5_demo_clims/
reference_data_path: demo_data_tmp/obs4MIPs_PCMDI_clims
metrics_output_path: demo_output_tmp/Ex2
diagnostics_output_path: demo_output_tmp/Ex2
debug: False
--- start mean climate metrics calculation ---
varname: rlut
level: None
reference_data_set (all):  [&#39;alternate1&#39;, &#39;default&#39;]
ref: alternate1
ref_data_full_path: demo_data_tmp/obs4MIPs_PCMDI_clims/rlut/CERES-EBAF-4-0/v20210804/rlut_mon_CERES-EBAF-4-0_PCMDI_gn.200301-201812.AC.v20210804.nc
ref_data load_and_regrid failed: int() argument must be a string, a bytes-like object or a real number, not &#39;NoneType&#39;
Re-try with decode_times=False
&#39;DataArray&#39; object has no attribute &#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:36:30,145 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:36:30,145 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 11.648381662240547
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.549244692371865
metrics, std_xyt
metrics, std_xyt: 36.592896459787895
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 1.125610428460632
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 5.860898578606725
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  8.177708187327104 8.099998137034403
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.96795773835052
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:37::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut/rlut_ACCESS1-0__2.5x2.5_xesmf_metrics_alternate1_Ex2.json
2024-10-23 20:37:16,999 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut/rlut_ACCESS1-0__2.5x2.5_xesmf_metrics_alternate1_Ex2.json
2024-10-23 20:37:16,999 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut/rlut_ACCESS1-0__2.5x2.5_xesmf_metrics_alternate1_Ex2.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=================================
model, runs, find_all_realizations: CanCM4 [&#39;&#39;] False
-----------------------
model, run: CanCM4
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.CanCM4.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:37:17,382 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:37:17,382 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 12.59914336644845
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.549244692371865
metrics, std_xyt
metrics, std_xyt: 35.57963901558475
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -1.1527243415926074
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 6.360708067056379
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  9.645756369004939 9.576658679806574
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9480905763948829
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:38::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut/rlut_CanCM4__2.5x2.5_xesmf_metrics_alternate1_Ex2.json
2024-10-23 20:38:13,726 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut/rlut_CanCM4__2.5x2.5_xesmf_metrics_alternate1_Ex2.json
2024-10-23 20:38:13,726 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut/rlut_CanCM4__2.5x2.5_xesmf_metrics_alternate1_Ex2.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
ref: default
ref_data_full_path: demo_data_tmp/obs4MIPs_PCMDI_clims/rlut/CERES-EBAF-4-1/v20210804/rlut_mon_CERES-EBAF-4-1_PCMDI_gn.200301-201812.AC.v20210804.nc
ref_data load_and_regrid failed: int() argument must be a string, a bytes-like object or a real number, not &#39;NoneType&#39;
Re-try with decode_times=False
&#39;DataArray&#39; object has no attribute &#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:38:16,306 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:38:16,306 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 11.645235171566236
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.4985130934034
metrics, std_xyt
metrics, std_xyt: 36.592896459787895
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 1.1235015665376828
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 5.85424526985928
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  8.166269891908385 8.088741773719214
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9680673356259839
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:39::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut/rlut_ACCESS1-0__2.5x2.5_xesmf_metrics_default_Ex2.json
2024-10-23 20:39:09,516 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut/rlut_ACCESS1-0__2.5x2.5_xesmf_metrics_default_Ex2.json
2024-10-23 20:39:09,516 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut/rlut_ACCESS1-0__2.5x2.5_xesmf_metrics_default_Ex2.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=================================
model, runs, find_all_realizations: CanCM4 [&#39;&#39;] False
-----------------------
model, run: CanCM4
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.CanCM4.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:39:10,010 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:39:10,010 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 12.608701107371159
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.4985130934034
metrics, std_xyt
metrics, std_xyt: 35.57963901558475
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -1.1548230280823464
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 6.36344180576563
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  9.64426986778833 9.574909140910318
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9481186093157992
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:40::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut/rlut_CanCM4__2.5x2.5_xesmf_metrics_default_Ex2.json
2024-10-23 20:40:26,749 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut/rlut_CanCM4__2.5x2.5_xesmf_metrics_default_Ex2.json
2024-10-23 20:40:26,749 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut/rlut_CanCM4__2.5x2.5_xesmf_metrics_default_Ex2.json
INFO::2024-10-23 20:40::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut_2.5x2.5_xesmf_metrics_Ex2.json
2024-10-23 20:40:26,755 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut_2.5x2.5_xesmf_metrics_Ex2.json
2024-10-23 20:40:26,755 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex2/rlut_2.5x2.5_xesmf_metrics_Ex2.json
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pmp mean clim driver completed
</pre></div></div>
</div>
<section id="Specifying-the-model">
<h3>Specifying the model<a class="headerlink" href="#Specifying-the-model" title="Link to this heading">#</a></h3>
<p>It is easy to change the models or variables in the analysis. Whatever variables you choose must be present in both your model files and obervations. This example shows how to specify a variable while running only the ACCESS1-0 model.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre><span></span>%%bash
mean_climate_driver.py<span class="w"> </span>-p<span class="w"> </span>basic_param.py<span class="w"> </span>--case_id<span class="w"> </span><span class="s1">&#39;Ex3&#39;</span><span class="w"> </span>--test_data_set<span class="w"> </span><span class="s1">&#39;ACCESS1-0&#39;</span><span class="w"> </span>--vars<span class="w"> </span><span class="s2">&quot;rlut&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- prepare mean climate metrics calculation ---
case_id: Ex3
test_data_set: [&#39;ACCESS1-0&#39;]
realization:
vars: [&#39;rlut&#39;]
varname_in_test_data: None
reference_data_set: [&#39;all&#39;]
target_grid: 2.5x2.5
regrid_tool: regrid2
regrid_tool_ocn: esmf
save_test_clims: False
test_clims_interpolated_output: None
filename_template: cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc
sftlf_filename_template: sftlf_%(model_version).nc
generate_sftlf: True
regions_specs: {&#39;global&#39;: {}, &#39;NHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;SHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;TROPICS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;90S50S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -50)}}, &#39;50S20S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;20S20N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;20N50N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;50N90N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (50.0, 90)}}, &#39;CONUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;land&#39;: {&#39;value&#39;: 100}, &#39;land_NHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;land_SHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;land_TROPICS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;land_CONUS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;ocean&#39;: {&#39;value&#39;: 0}, &#39;ocean_NHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;ocean_SHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;ocean_TROPICS&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 30)}}, &#39;ocean_50S50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, 50)}}, &#39;ocean_50S20S&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;ocean_20S20N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;ocean_20N50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;NAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 90), &#39;longitude&#39;: (-180, 180)}}, &#39;NAO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA1&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA2&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PNA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;NPO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;PDO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;NPGO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;AMO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 70), &#39;longitude&#39;: (-80, 0)}}, &#39;AllMW&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-40.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;AllM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;NAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (210.0, 310.0)}}, &#39;SAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (240.0, 330.0)}}, &#39;NAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (-50.0, 60.0)}}, &#39;SAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (0.0, 90.0)}}, &#39;ASM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (60.0, 180.0)}}, &#39;AUSM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (90.0, 160.0)}}, &#39;AIR&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (7.0, 25.0), &#39;longitude&#39;: (65.0, 85.0)}}, &#39;AUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -10.0), &#39;longitude&#39;: (120.0, 150.0)}}, &#39;Sahel&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (13.0, 18.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;GoG&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 5.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;NAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 37.0), &#39;longitude&#39;: (-112.0, -103.0)}}, &#39;SAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 2.5), &#39;longitude&#39;: (-65.0, -40.0)}}}
regions: {&#39;rlut&#39;: [&#39;Global&#39;]}
test_data_path: demo_data_tmp/CMIP5_demo_clims/
reference_data_path: demo_data_tmp/obs4MIPs_PCMDI_clims
metrics_output_path: demo_output_tmp/Ex3
diagnostics_output_path: demo_output_tmp/Ex3
debug: False
--- start mean climate metrics calculation ---
varname: rlut
level: None
reference_data_set (all):  [&#39;alternate1&#39;, &#39;default&#39;]
ref: alternate1
ref_data_full_path: demo_data_tmp/obs4MIPs_PCMDI_clims/rlut/CERES-EBAF-4-0/v20210804/rlut_mon_CERES-EBAF-4-0_PCMDI_gn.200301-201812.AC.v20210804.nc
ref_data load_and_regrid failed: int() argument must be a string, a bytes-like object or a real number, not &#39;NoneType&#39;
Re-try with decode_times=False
&#39;DataArray&#39; object has no attribute &#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:40:47,120 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:40:47,120 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 11.443886637144088
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.47036113512534
metrics, std_xyt
metrics, std_xyt: 36.4380172334105
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 1.1384446642039474
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 5.770267763900403
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  8.04383979899538 7.962870239960437
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9693832697582581
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:41::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3.json
2024-10-23 20:41:37,684 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3.json
2024-10-23 20:41:37,684 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
ref: default
ref_data_full_path: demo_data_tmp/obs4MIPs_PCMDI_clims/rlut/CERES-EBAF-4-1/v20210804/rlut_mon_CERES-EBAF-4-1_PCMDI_gn.200301-201812.AC.v20210804.nc
ref_data load_and_regrid failed: int() argument must be a string, a bytes-like object or a real number, not &#39;NoneType&#39;
Re-try with decode_times=False
&#39;DataArray&#39; object has no attribute &#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:41:41,806 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:41:41,806 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 11.441474434051779
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.42022623440726
metrics, std_xyt
metrics, std_xyt: 36.4380172334105
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 1.1365873707975822
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 5.76358422001215
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  8.032983607315776 7.9521691873316795
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9694779269200444
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:42::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex3.json
2024-10-23 20:42:42,855 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex3.json
2024-10-23 20:42:42,855 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex3.json
INFO::2024-10-23 20:42::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut_2.5x2.5_regrid2_metrics_Ex3.json
2024-10-23 20:42:42,859 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut_2.5x2.5_regrid2_metrics_Ex3.json
2024-10-23 20:42:42,859 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3/rlut_2.5x2.5_regrid2_metrics_Ex3.json
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pmp mean clim driver completed
</pre></div></div>
</div>
</section>
<section id="Specifying-the-observation">
<h3>Specifying the observation<a class="headerlink" href="#Specifying-the-observation" title="Link to this heading">#</a></h3>
<p>There are several sets of observations available in the standard PCMDI set. This case uses the ‘alternate1’ observations for zg with the flag <code class="docutils literal notranslate"><span class="pre">reference_data_set</span></code>. The test and observations path are specified with <code class="docutils literal notranslate"><span class="pre">test_data_path</span></code> and <code class="docutils literal notranslate"><span class="pre">reference_data_path</span></code>, respectively.</p>
<p>To see which datasets are the default and which are alternates, check out <a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/blob/main/doc/obs_info_dictionary.json">pcmdi_metrics/doc/obs_info_dictionary.json</a>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre><span></span>%%bash
mean_climate_driver.py<span class="w"> </span>-p<span class="w"> </span>basic_param.py<span class="w"> </span><span class="se">\</span>
--case_id<span class="w"> </span><span class="s1">&#39;Ex3_2&#39;</span><span class="w"> </span><span class="se">\</span>
--vars<span class="w"> </span><span class="s1">&#39;rlut&#39;</span><span class="w"> </span><span class="se">\</span>
--test_data_set<span class="w"> </span><span class="s1">&#39;ACCESS1-0&#39;</span><span class="w"> </span><span class="se">\</span>
--reference_data_set<span class="w"> </span><span class="s2">&quot;alternate1&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- prepare mean climate metrics calculation ---
case_id: Ex3_2
test_data_set: [&#39;ACCESS1-0&#39;]
realization:
vars: [&#39;rlut&#39;]
varname_in_test_data: None
reference_data_set: [&#39;alternate1&#39;]
target_grid: 2.5x2.5
regrid_tool: regrid2
regrid_tool_ocn: esmf
save_test_clims: False
test_clims_interpolated_output: None
filename_template: cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc
sftlf_filename_template: sftlf_%(model_version).nc
generate_sftlf: True
regions_specs: {&#39;global&#39;: {}, &#39;NHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;SHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;TROPICS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;90S50S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -50)}}, &#39;50S20S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;20S20N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;20N50N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;50N90N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (50.0, 90)}}, &#39;CONUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;land&#39;: {&#39;value&#39;: 100}, &#39;land_NHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;land_SHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;land_TROPICS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;land_CONUS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;ocean&#39;: {&#39;value&#39;: 0}, &#39;ocean_NHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;ocean_SHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;ocean_TROPICS&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 30)}}, &#39;ocean_50S50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, 50)}}, &#39;ocean_50S20S&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;ocean_20S20N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;ocean_20N50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;NAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 90), &#39;longitude&#39;: (-180, 180)}}, &#39;NAO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA1&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA2&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PNA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;NPO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;PDO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;NPGO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;AMO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 70), &#39;longitude&#39;: (-80, 0)}}, &#39;AllMW&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-40.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;AllM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;NAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (210.0, 310.0)}}, &#39;SAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (240.0, 330.0)}}, &#39;NAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (-50.0, 60.0)}}, &#39;SAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (0.0, 90.0)}}, &#39;ASM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (60.0, 180.0)}}, &#39;AUSM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (90.0, 160.0)}}, &#39;AIR&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (7.0, 25.0), &#39;longitude&#39;: (65.0, 85.0)}}, &#39;AUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -10.0), &#39;longitude&#39;: (120.0, 150.0)}}, &#39;Sahel&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (13.0, 18.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;GoG&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 5.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;NAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 37.0), &#39;longitude&#39;: (-112.0, -103.0)}}, &#39;SAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 2.5), &#39;longitude&#39;: (-65.0, -40.0)}}}
regions: {&#39;rlut&#39;: [&#39;Global&#39;]}
test_data_path: demo_data_tmp/CMIP5_demo_clims/
reference_data_path: demo_data_tmp/obs4MIPs_PCMDI_clims
metrics_output_path: demo_output_tmp/Ex3_2
diagnostics_output_path: demo_output_tmp/Ex3_2
debug: False
--- start mean climate metrics calculation ---
varname: rlut
level: None
ref: alternate1
ref_data_full_path: demo_data_tmp/obs4MIPs_PCMDI_clims/rlut/CERES-EBAF-4-0/v20210804/rlut_mon_CERES-EBAF-4-0_PCMDI_gn.200301-201812.AC.v20210804.nc
ref_data load_and_regrid failed: int() argument must be a string, a bytes-like object or a real number, not &#39;NoneType&#39;
Re-try with decode_times=False
&#39;DataArray&#39; object has no attribute &#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:43:02,236 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:43:02,236 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 11.443886637144088
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.47036113512534
metrics, std_xyt
metrics, std_xyt: 36.4380172334105
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 1.1384446642039474
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 5.770267763900403
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  8.04383979899538 7.962870239960437
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9693832697582581
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:43::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
2024-10-23 20:43:57,204 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
2024-10-23 20:43:57,204 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex3_2.json
INFO::2024-10-23 20:44::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/rlut_2.5x2.5_regrid2_metrics_Ex3_2.json
2024-10-23 20:44:09,601 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/rlut_2.5x2.5_regrid2_metrics_Ex3_2.json
2024-10-23 20:44:09,601 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex3_2/rlut_2.5x2.5_regrid2_metrics_Ex3_2.json
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pmp mean clim driver completed
</pre></div></div>
</div>
</section>
<section id="Using-custom-regions">
<h3>Using custom regions<a class="headerlink" href="#Using-custom-regions" title="Link to this heading">#</a></h3>
<p>The predefined regions that can be set by the <code class="docutils literal notranslate"><span class="pre">--regions</span></code> flag can be found in <a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/blob/master/share/default_regions.py">default_regions.py</a>. By default, the mean climate driver will run “global”, “NHEX”, “SHEX”, and “TROPICS”.</p>
<p>This example specifies customized additional regions for the analysis. Region can be named as “MyDomain”, “MyDomain_ocean” (for over ocean only) or “MyDomain_land” (for over land only). The driver will recognize “_ocean” or “_land” keywords to mask out land or ocean.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre><span></span>%%bash
mean_climate_driver.py<span class="w"> </span>-p<span class="w"> </span>basic_param.py<span class="w"> </span><span class="se">\</span>
--case_id<span class="w"> </span><span class="s1">&#39;Ex4&#39;</span><span class="w"> </span>--regions<span class="w"> </span><span class="s1">&#39;{&quot;rlut&quot;: [&quot;MyDomain_ocean&quot;]}&#39;</span><span class="w"> </span><span class="se">\</span>
--regions_specs<span class="w"> </span><span class="s2">&quot;{&#39;MyDomain_ocean&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20, 40), &#39;longitude&#39;:(90, 260)}}}&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- prepare mean climate metrics calculation ---
case_id: Ex4
test_data_set: [&#39;ACCESS1-0&#39;, &#39;CanCM4&#39;]
realization:
vars: [&#39;rlut&#39;]
varname_in_test_data: None
reference_data_set: [&#39;all&#39;]
target_grid: 2.5x2.5
regrid_tool: regrid2
regrid_tool_ocn: esmf
save_test_clims: False
test_clims_interpolated_output: None
filename_template: cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc
sftlf_filename_template: sftlf_%(model_version).nc
generate_sftlf: True
regions_specs: {&#39;MyDomain_ocean&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20, 40), &#39;longitude&#39;: (90, 260)}}}
regions: {&#39;rlut&#39;: [&#39;MyDomain_ocean&#39;]}
test_data_path: demo_data_tmp/CMIP5_demo_clims/
reference_data_path: demo_data_tmp/obs4MIPs_PCMDI_clims
metrics_output_path: demo_output_tmp/Ex4
diagnostics_output_path: demo_output_tmp/Ex4
debug: False
--- start mean climate metrics calculation ---
varname: rlut
level: None
reference_data_set (all):  [&#39;alternate1&#39;, &#39;default&#39;]
ref: alternate1
ref_data_full_path: demo_data_tmp/obs4MIPs_PCMDI_clims/rlut/CERES-EBAF-4-0/v20210804/rlut_mon_CERES-EBAF-4-0_PCMDI_gn.200301-201812.AC.v20210804.nc
ref_data load_and_regrid failed: int() argument must be a string, a bytes-like object or a real number, not &#39;NoneType&#39;
Re-try with decode_times=False
&#39;DataArray&#39; object has no attribute &#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:44:24,373 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:44:24,373 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: MyDomain_ocean
mask done
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 15.2630623442936
metrics, stdObs_xyt
metrics, stdObs_xyt: 24.24450109200992
metrics, std_xyt
metrics, std_xyt: 25.372001123094773
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 4.814266222662762
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 8.444675696091114
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  11.251145376959022 10.16912548013814
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.8644893539880795
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:44::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex4.json
2024-10-23 20:44:57,841 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex4.json
2024-10-23 20:44:57,841 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex4.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=================================
model, runs, find_all_realizations: CanCM4 [&#39;&#39;] False
-----------------------
model, run: CanCM4
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.CanCM4.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:44:58,153 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:44:58,153 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: MyDomain_ocean
mask done
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 15.371500645211704
metrics, stdObs_xyt
metrics, stdObs_xyt: 24.24450109200992
metrics, std_xyt
metrics, std_xyt: 26.83879686923053
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -4.849519146889765
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 7.956256654168572
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  10.69207432264427 9.529040736868449
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.8811493776922732
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:45::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex4.json
2024-10-23 20:45:30,752 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex4.json
2024-10-23 20:45:30,752 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex4.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
ref: default
ref_data_full_path: demo_data_tmp/obs4MIPs_PCMDI_clims/rlut/CERES-EBAF-4-1/v20210804/rlut_mon_CERES-EBAF-4-1_PCMDI_gn.200301-201812.AC.v20210804.nc
ref_data load_and_regrid failed: int() argument must be a string, a bytes-like object or a real number, not &#39;NoneType&#39;
Re-try with decode_times=False
&#39;DataArray&#39; object has no attribute &#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:45:32,494 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:45:32,494 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: MyDomain_ocean
mask done
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 15.276449067764391
metrics, stdObs_xyt
metrics, stdObs_xyt: 24.17678427276551
metrics, std_xyt
metrics, std_xyt: 25.372001123094773
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 4.8162653252571515
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 8.432113862199394
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  11.232283859465884 10.147304519740372
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.8650911059151953
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:46::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex4.json
2024-10-23 20:46:13,474 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex4.json
2024-10-23 20:46:13,474 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex4.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=================================
model, runs, find_all_realizations: CanCM4 [&#39;&#39;] False
-----------------------
model, run: CanCM4
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.CanCM4.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:46:13,731 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:46:13,731 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: MyDomain_ocean
mask done
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 15.399894046205672
metrics, stdObs_xyt
metrics, stdObs_xyt: 24.17678427276551
metrics, std_xyt
metrics, std_xyt: 26.83879686923053
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -4.8475200442953765
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 7.9611434055858945
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  10.693442290296586 9.531592597045787
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.8811038958440404
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:46::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_default_Ex4.json
2024-10-23 20:46:50,043 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_default_Ex4.json
2024-10-23 20:46:50,043 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_default_Ex4.json
INFO::2024-10-23 20:46::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut_2.5x2.5_regrid2_metrics_Ex4.json
2024-10-23 20:46:50,049 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut_2.5x2.5_regrid2_metrics_Ex4.json
2024-10-23 20:46:50,049 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex4/rlut_2.5x2.5_regrid2_metrics_Ex4.json
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pmp mean clim driver completed
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># path to images</span>
<span class="n">image_path_djf</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">demo_output_directory</span><span class="p">,</span><span class="s2">&quot;Ex4/rlut/rlut_ACCESS1-0__interpolated_regrid2_MyDomain_ocean_DJF_Ex4.png&quot;</span><span class="p">)</span>
<span class="n">image_path_jja</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">demo_output_directory</span><span class="p">,</span><span class="s2">&quot;Ex4/rlut/rlut_ACCESS1-0__interpolated_regrid2_MyDomain_ocean_JJA_Ex4.png&quot;</span><span class="p">)</span>

<span class="c1"># display images</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">);</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">image_path_djf</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">image_path_jja</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.image.AxesImage at 0x10d4a4340&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_Demo_1b_mean_climate_23_1.png" src="../_images/examples_Demo_1b_mean_climate_23_1.png" />
</div>
</div>
<p>The region value <code class="docutils literal notranslate"><span class="pre">None</span></code> is another way of indicating “global”</p>
<p>Custom domain is controlled by the variable <code class="docutils literal notranslate"><span class="pre">regions_specs</span></code> in the parameter file or command line. For example, a custom region for Antarctica over land could be defined with <code class="docutils literal notranslate"><span class="pre">regions_specs</span> <span class="pre">=</span> <span class="pre">{'ANT':</span> <span class="pre">{'value':</span> <span class="pre">100,</span> <span class="pre">'domain':</span> <span class="pre">{'latitude':</span> <span class="pre">(-90,</span> <span class="pre">-60)}}}</span></code> in the parameter file. <code class="docutils literal notranslate"><span class="pre">value</span></code> indicate masking, 100: land only, 0: ocean only.</p>
<p>The command to use the custom region would look like <code class="docutils literal notranslate"><span class="pre">--regions</span> <span class="pre">'{&quot;rlut&quot;:</span> <span class="pre">[&quot;ANT&quot;]}'</span></code> in the command line or <code class="docutils literal notranslate"><span class="pre">regions</span> <span class="pre">=</span> <span class="pre">{&quot;rlut&quot;:</span> <span class="pre">[&quot;ANT&quot;]}</span></code> in the parameter file.</p>
<section id="Land/sea-masks">
<h4>Land/sea masks<a class="headerlink" href="#Land/sea-masks" title="Link to this heading">#</a></h4>
<p>Land/Sea masking is required for some regions (e.g. “land”). This is controlled by variables <code class="docutils literal notranslate"><span class="pre">sftlf_filename_template</span></code> and <code class="docutils literal notranslate"><span class="pre">generate_sftlf</span></code>. The metrics package expects the land/sea mask files to be located with the model data under a fixed field variable (‘fx’) with a file name that follows the pattern in <code class="docutils literal notranslate"><span class="pre">sftlf_filename_template</span></code>. The example data does not come with a land/sea mask, so we set <code class="docutils literal notranslate"><span class="pre">generate_sftlf</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> in the basic parameter file to have the PMP generate a land/sea
mask where 0 represents ocean and 100 represents land.</p>
</section>
</section>
<section id="Extract-vertical-level-and-customize-observations">
<h3>Extract vertical level and customize observations<a class="headerlink" href="#Extract-vertical-level-and-customize-observations" title="Link to this heading">#</a></h3>
<p>This example shows how to extract a vertical level from a 4-D variable. The 500 hPa level of zg is specified by adding “_500” to zg.</p>
<p>There are several sets of observations available in the standard PCMDI set. This case uses the ‘alternate1’ observations for zg with the flag <code class="docutils literal notranslate"><span class="pre">reference_data_set</span></code>. The test and observations path are specified with <code class="docutils literal notranslate"><span class="pre">test_data_path</span></code> and <code class="docutils literal notranslate"><span class="pre">reference_data_path</span></code>, respectively.</p>
<p>To see which datasets are the default and which are alternates, check out <a class="reference external" href="https://github.com/PCMDI/pcmdi_metrics/blob/main/doc/obs_info_dictionary.json">pcmdi_metrics/doc/obs_info_dictionary.json</a>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre><span></span>%%bash
mean_climate_driver.py<span class="w"> </span>-p<span class="w"> </span>basic_param.py<span class="w"> </span><span class="se">\</span>
--case_id<span class="w"> </span><span class="s1">&#39;Ex5&#39;</span><span class="w"> </span><span class="se">\</span>
--vars<span class="w"> </span><span class="s1">&#39;zg_500&#39;</span><span class="w"> </span><span class="se">\</span>
--test_data_set<span class="w"> </span><span class="s1">&#39;CanCM4&#39;</span><span class="w"> </span><span class="se">\</span>
--reference_data_set<span class="w"> </span><span class="s2">&quot;alternate1&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- prepare mean climate metrics calculation ---
case_id: Ex5
test_data_set: [&#39;CanCM4&#39;]
realization:
vars: [&#39;zg_500&#39;]
varname_in_test_data: None
reference_data_set: [&#39;alternate1&#39;]
target_grid: 2.5x2.5
regrid_tool: regrid2
regrid_tool_ocn: esmf
save_test_clims: False
test_clims_interpolated_output: None
filename_template: cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc
sftlf_filename_template: sftlf_%(model_version).nc
generate_sftlf: True
regions_specs: {&#39;global&#39;: {}, &#39;NHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;SHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;TROPICS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;90S50S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -50)}}, &#39;50S20S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;20S20N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;20N50N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;50N90N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (50.0, 90)}}, &#39;CONUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;land&#39;: {&#39;value&#39;: 100}, &#39;land_NHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;land_SHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;land_TROPICS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;land_CONUS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;ocean&#39;: {&#39;value&#39;: 0}, &#39;ocean_NHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;ocean_SHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;ocean_TROPICS&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 30)}}, &#39;ocean_50S50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, 50)}}, &#39;ocean_50S20S&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;ocean_20S20N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;ocean_20N50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;NAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 90), &#39;longitude&#39;: (-180, 180)}}, &#39;NAO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA1&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA2&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PNA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;NPO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;PDO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;NPGO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;AMO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 70), &#39;longitude&#39;: (-80, 0)}}, &#39;AllMW&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-40.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;AllM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;NAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (210.0, 310.0)}}, &#39;SAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (240.0, 330.0)}}, &#39;NAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (-50.0, 60.0)}}, &#39;SAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (0.0, 90.0)}}, &#39;ASM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (60.0, 180.0)}}, &#39;AUSM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (90.0, 160.0)}}, &#39;AIR&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (7.0, 25.0), &#39;longitude&#39;: (65.0, 85.0)}}, &#39;AUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -10.0), &#39;longitude&#39;: (120.0, 150.0)}}, &#39;Sahel&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (13.0, 18.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;GoG&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 5.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;NAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 37.0), &#39;longitude&#39;: (-112.0, -103.0)}}, &#39;SAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 2.5), &#39;longitude&#39;: (-65.0, -40.0)}}}
regions: {&#39;rlut&#39;: [&#39;Global&#39;]}
test_data_path: demo_data_tmp/CMIP5_demo_clims/
reference_data_path: demo_data_tmp/obs4MIPs_PCMDI_clims
metrics_output_path: demo_output_tmp/Ex5
diagnostics_output_path: demo_output_tmp/Ex5
debug: False
--- start mean climate metrics calculation ---
varname: zg
level: 500.0
ref: alternate1
ref_data_full_path: demo_data_tmp/obs4MIPs_PCMDI_clims/zg/ERA-INT/v20210804/zg_mon_ERA-INT_PCMDI_gn.200301-201812.AC.v20210804.nc
ref_data load_and_regrid failed: int() argument must be a string, a bytes-like object or a real number, not &#39;NoneType&#39;
Re-try with decode_times=False
&#39;DataArray&#39; object has no attribute &#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: CanCM4 [&#39;&#39;] False
-----------------------
model, run: CanCM4
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.CanCM4.r1i1p1.mon.zg.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:47:04,554 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:47:04,554 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: m
load and regrid done
region: global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  zg
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 43.136407421218316
metrics, stdObs_xyt
metrics, stdObs_xyt: 266.7884899432676
metrics, std_xyt
metrics, std_xyt: 289.17169839153274
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -26.728290236301323
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 27.30732894422076
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  36.86694958124509 25.392330977484043
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9982653843741294
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:47::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2024-10-23 20:47:43,691 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2024-10-23 20:47:43,691 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
region: NHEX
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  zg
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 52.2064859576494
metrics, stdObs_xyt
metrics, stdObs_xyt: 217.77101191168182
metrics, std_xyt
metrics, std_xyt: 243.07923995935116
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -33.98470249136269
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 36.125120682823166
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  43.400849746947806 26.993957755962263
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9934603819353881
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:48::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2024-10-23 20:48:22,182 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2024-10-23 20:48:22,182 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
region: SHEX
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  zg
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 61.71843893264793
metrics, stdObs_xyt
metrics, stdObs_xyt: 283.2198853808546
metrics, std_xyt
metrics, std_xyt: 296.6174198809844
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -53.00981685915384
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 53.00981685915384
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  56.89534707654409 20.66494218524041
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9981091437507361
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:49::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2024-10-23 20:49:08,486 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2024-10-23 20:49:08,486 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
region: TROPICS
spatial subset done
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  zg
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 14.846540399655922
metrics, stdObs_xyt
metrics, stdObs_xyt: 28.365941345001204
metrics, std_xyt
metrics, std_xyt: 34.43200609661541
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -9.959320797344981
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 10.047189117453625
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  12.569280170055691 7.668033206040149
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9610677207049356
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:49::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2024-10-23 20:49:45,193 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
2024-10-23 20:49:45,193 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500/zg_500_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex5.json
INFO::2024-10-23 20:49::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500_2.5x2.5_regrid2_metrics_Ex5.json
2024-10-23 20:49:45,198 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500_2.5x2.5_regrid2_metrics_Ex5.json
2024-10-23 20:49:45,198 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex5/zg_500_2.5x2.5_regrid2_metrics_Ex5.json
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pmp mean clim driver completed
</pre></div></div>
</div>
<p>There are a couple of steps for using an observational dataset that isn’t included in <strong>obs_info_dict.json</strong>. The observational dataset mush be documented in a catalog json following the format used in <strong>obs_info_dict.json</strong>. Then set the variable <code class="docutils literal notranslate"><span class="pre">custom_observations</span></code> to the path for this catalog. The observation files need to be located under the path specified by <code class="docutils literal notranslate"><span class="pre">reference_data_path</span></code></p>
</section>
<section id="Adding-notes-and-other-options">
<h3>Adding notes and other options<a class="headerlink" href="#Adding-notes-and-other-options" title="Link to this heading">#</a></h3>
<p>This example adds a field to “user_notes” in the output json and saves the interpolated fields. Interpolated fields are saved at the same directory level as the parameter file.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre><span></span>%%bash
mean_climate_driver.py<span class="w"> </span>-p<span class="w"> </span>basic_param.py<span class="w"> </span><span class="se">\</span>
--case_id<span class="w"> </span><span class="s1">&#39;Ex6&#39;</span><span class="w"> </span>--user_notes<span class="w"> </span><span class="s1">&#39;Example note&#39;</span><span class="w"> </span>--save_test_clims<span class="w"> </span>True
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- prepare mean climate metrics calculation ---
case_id: Ex6
test_data_set: [&#39;ACCESS1-0&#39;, &#39;CanCM4&#39;]
realization:
vars: [&#39;rlut&#39;]
varname_in_test_data: None
reference_data_set: [&#39;all&#39;]
target_grid: 2.5x2.5
regrid_tool: regrid2
regrid_tool_ocn: esmf
save_test_clims: True
test_clims_interpolated_output: None
filename_template: cmip5.historical.%(model_version).r1i1p1.mon.%(variable).198101-200512.AC.v20200426.nc
sftlf_filename_template: sftlf_%(model_version).nc
generate_sftlf: True
regions_specs: {&#39;global&#39;: {}, &#39;NHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;SHEX&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;TROPICS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;90S50S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -50)}}, &#39;50S20S&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;20S20N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;20N50N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;50N90N&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (50.0, 90)}}, &#39;CONUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;land&#39;: {&#39;value&#39;: 100}, &#39;land_NHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;land_SHEX&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;land_TROPICS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (-30.0, 30)}}, &#39;land_CONUS&#39;: {&#39;value&#39;: 100, &#39;domain&#39;: {&#39;latitude&#39;: (24.7, 49.4), &#39;longitude&#39;: (-124.78, -66.92)}}, &#39;ocean&#39;: {&#39;value&#39;: 0}, &#39;ocean_NHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 90)}}, &#39;ocean_SHEX&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (-90.0, -30)}}, &#39;ocean_TROPICS&#39;: {&#39;value&#39;: 0, &#39;domain&#39;: {&#39;latitude&#39;: (30.0, 30)}}, &#39;ocean_50S50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, 50)}}, &#39;ocean_50S20S&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-50.0, -20)}}, &#39;ocean_20S20N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 20)}}, &#39;ocean_20N50N&#39;: {&#39;value&#39;: 0.0, &#39;domain&#39;: {&#39;latitude&#39;: (20.0, 50)}}, &#39;NAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 90), &#39;longitude&#39;: (-180, 180)}}, &#39;NAO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 80), &#39;longitude&#39;: (-90, 40)}}, &#39;SAM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA1&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PSA2&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -90), &#39;longitude&#39;: (0, 360)}}, &#39;PNA&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;NPO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 85), &#39;longitude&#39;: (120, 240)}}, &#39;PDO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;NPGO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 70), &#39;longitude&#39;: (110, 260)}}, &#39;AMO&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 70), &#39;longitude&#39;: (-80, 0)}}, &#39;AllMW&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-40.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;AllM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 45.0), &#39;longitude&#39;: (0.0, 360.0)}}, &#39;NAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (210.0, 310.0)}}, &#39;SAMM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (240.0, 330.0)}}, &#39;NAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (-50.0, 60.0)}}, &#39;SAFM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (0.0, 90.0)}}, &#39;ASM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 45.0), &#39;longitude&#39;: (60.0, 180.0)}}, &#39;AUSM&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-45.0, 0.0), &#39;longitude&#39;: (90.0, 160.0)}}, &#39;AIR&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (7.0, 25.0), &#39;longitude&#39;: (65.0, 85.0)}}, &#39;AUS&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, -10.0), &#39;longitude&#39;: (120.0, 150.0)}}, &#39;Sahel&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (13.0, 18.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;GoG&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (0.0, 5.0), &#39;longitude&#39;: (-10.0, 10.0)}}, &#39;NAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (20.0, 37.0), &#39;longitude&#39;: (-112.0, -103.0)}}, &#39;SAmo&#39;: {&#39;domain&#39;: {&#39;latitude&#39;: (-20.0, 2.5), &#39;longitude&#39;: (-65.0, -40.0)}}}
regions: {&#39;rlut&#39;: [&#39;Global&#39;]}
test_data_path: demo_data_tmp/CMIP5_demo_clims/
reference_data_path: demo_data_tmp/obs4MIPs_PCMDI_clims
metrics_output_path: demo_output_tmp/Ex6
diagnostics_output_path: demo_output_tmp/Ex6
debug: False
--- start mean climate metrics calculation ---
varname: rlut
level: None
reference_data_set (all):  [&#39;alternate1&#39;, &#39;default&#39;]
ref: alternate1
ref_data_full_path: demo_data_tmp/obs4MIPs_PCMDI_clims/rlut/CERES-EBAF-4-0/v20210804/rlut_mon_CERES-EBAF-4-0_PCMDI_gn.200301-201812.AC.v20210804.nc
ref_data load_and_regrid failed: int() argument must be a string, a bytes-like object or a real number, not &#39;NoneType&#39;
Re-try with decode_times=False
&#39;DataArray&#39; object has no attribute &#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:50:00,578 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:50:00,578 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 11.443886637144088
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.47036113512534
metrics, std_xyt
metrics, std_xyt: 36.4380172334105
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 1.1384446642039474
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 5.770267763900403
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  8.04383979899538 7.962870239960437
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9693832697582581
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:50::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex6.json
2024-10-23 20:50:35,103 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex6.json
2024-10-23 20:50:35,103 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_alternate1_Ex6.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=================================
model, runs, find_all_realizations: CanCM4 [&#39;&#39;] False
-----------------------
model, run: CanCM4
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.CanCM4.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:50:35,368 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:50:35,368 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 12.581863266319667
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.47036113512534
metrics, std_xyt
metrics, std_xyt: 35.676970161763705
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -1.1635460184347601
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 6.33676419779921
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  9.611035481689909 9.540344002879925
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9518562007048922
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:51::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex6.json
2024-10-23 20:51:17,721 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex6.json
2024-10-23 20:51:17,721 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_alternate1_Ex6.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
ref: default
ref_data_full_path: demo_data_tmp/obs4MIPs_PCMDI_clims/rlut/CERES-EBAF-4-1/v20210804/rlut_mon_CERES-EBAF-4-1_PCMDI_gn.200301-201812.AC.v20210804.nc
ref_data load_and_regrid failed: int() argument must be a string, a bytes-like object or a real number, not &#39;NoneType&#39;
Re-try with decode_times=False
&#39;DataArray&#39; object has no attribute &#39;units&#39;
units:
ref_data load_and_regrid done
=================================
model, runs, find_all_realizations: ACCESS1-0 [&#39;&#39;] False
-----------------------
model, run: ACCESS1-0
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.ACCESS1-0.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:51:21,321 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:51:21,321 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 11.441474434051779
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.42022623440726
metrics, std_xyt
metrics, std_xyt: 36.4380172334105
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: 1.1365873707975822
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 5.76358422001215
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  8.032983607315776 7.9521691873316795
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9694779269200444
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:52::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex6.json
2024-10-23 20:52:05,876 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex6.json
2024-10-23 20:52:05,876 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut/rlut_ACCESS1-0__2.5x2.5_regrid2_metrics_default_Ex6.json
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
=================================
model, runs, find_all_realizations: CanCM4 [&#39;&#39;] False
-----------------------
model, run: CanCM4
test_data (model in this case) full_path: demo_data_tmp/CMIP5_demo_clims/cmip5.historical.CanCM4.r1i1p1.mon.rlut.198101-200512.AC.v20200426.nc
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2024-10-23 20:52:06,167 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
2024-10-23 20:52:06,167 [WARNING]: dataset.py(_is_decodable:549) &gt;&gt; &#39;time&#39; does not have a &#39;units&#39; attribute set so it could not be decoded. Try setting the &#39;units&#39; attribute (`ds.{coords.name}.attrs[&#39;units&#39;]`) and try decoding again.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
units: W m-2
load and regrid done
region: Global
plot map done
plot map done
plot map done
plot map done
plot map done
compute metrics start
var:  rlut
metrics-CALCULATE ANNUAL CYCLE SPACE-TIME RMS, CORRELATIONS and STD
metrics, rms_xyt
metrics, rms_xyt: 12.592931277171877
metrics, stdObs_xyt
metrics, stdObs_xyt: 33.42022623440726
metrics, std_xyt
metrics, std_xyt: 35.676970161763705
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL MEAN BIAS
metrics-CALCULATE ANNUAL MEAN BIAS, bias_xy: -1.165403311841126
metrics-CALCULATE MSE
metrics-CALCULATE MSE, mae_xy: 6.339387410014902
metrics-CALCULATE MEAN RMS
metrics-CALCULATE MEAN RMS: rms_xy, rmsc_xy:  9.609441449405928 9.538511418995654
metrics-CALCULATE MEAN CORR
metrics-CALCULATE MEAN CORR: cor_xy: 0.9518750636449926
metrics-CALCULATE ANNUAL OBS AND MOD STD
metrics-CALCULATE ANNUAL OBS AND MOD MEAN
metrics-CALCULATE ANNUAL MEANS
metrics-CALCULATE ANNUAL AND ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN RMS
metrics-CALCULATE ANNUAL MEAN DEVIATION FROM ZONAL MEAN STD
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO::2024-10-23 20:53::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_default_Ex6.json
2024-10-23 20:53:03,750 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_default_Ex6.json
2024-10-23 20:53:03,750 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut/rlut_CanCM4__2.5x2.5_regrid2_metrics_default_Ex6.json
INFO::2024-10-23 20:53::pcmdi_metrics:: Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut_2.5x2.5_regrid2_metrics_Ex6.json
2024-10-23 20:53:03,756 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut_2.5x2.5_regrid2_metrics_Ex6.json
2024-10-23 20:53:03,756 [INFO]: base.py(write:422) &gt;&gt; Results saved to a json file: /Users/lee1043/Documents/Research/git/pcmdi_metrics_20230620_pcmdi/pcmdi_metrics/doc/jupyter/Demo/demo_output_tmp/Ex6/rlut_2.5x2.5_regrid2_metrics_Ex6.json
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pmp mean clim driver completed
</pre></div></div>
</div>
<div class="line-block">
<div class="line">Some other flags to note:</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">--ext</span></code> ‘.nc’ or ‘.xml’. NetCDF files should be post-processed annual climatologies</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">--filename_template</span></code> Based on the format of your model files.</div>
<div class="line">- When the file name varies based on model, experiment, or another parameter, use %(parameter) as a placeholder</div>
<div class="line">(for example, “CMIP5.historical.%(model_version)…” in this demo’s parameter file)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">--help</span></code> or <code class="docutils literal notranslate"><span class="pre">-h</span></code> Help command for more information about all flags.</div>
</div>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Demo_1a_compute_climatologies.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">1A. Compute Climatologies</p>
      </div>
    </a>
    <a class="right-next"
       href="Demo_2a_monsoon_wang.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">2A. Monsoon (Wang)</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Basic-use">Basic use</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Customizing-parameters-in-the-mean-climate-driver">Customizing parameters in the mean climate driver</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Specifying-the-model">Specifying the model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Specifying-the-observation">Specifying the observation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Using-custom-regions">Using custom regions</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Land/sea-masks">Land/sea masks</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Extract-vertical-level-and-customize-observations">Extract vertical level and customize observations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Adding-notes-and-other-options">Adding notes and other options</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By PMP Developers
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, PMP Developers.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>